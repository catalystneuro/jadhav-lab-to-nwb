NWBFile:
  session_description:
    A rich text description of the experiment. Can also just be the abstract of the publication.
  institution: Brandeis University
  lab: Jadhav
  experimenter:
    - Last, First Middle
    - Last, First Middle

Subject:
  description: Long Evans Rat
  genotype: Wild Type
  sex: M
  species: Rattus norvegicus
  age: P3M/5M

Ecephys:
  DataAcqDevice:
      - name: MCU
        system: MCU
        description: Main Control Unit from SpikeGadgets - Handles Analog and Digital Signals, and Coordination across hardware
        manufacturer: SpikeGadgets
        amplifier: TBD
        adc_circuit: TBD
      - name: ECU
        system: ECU
        description: Environmental Control Unit from SpikeGadgets - I/O control hardware
        manufacturer: SpikeGadgets
        amplifier: TBD
        adc_circuit: TBD
      - name: AdaptAMaze
        system: AdaptAMaze
        description: Maze Control System
        manufacturer: JadhavLab (JMOlson)
        amplifier: TBD
        adc_circuit: TBD
  TrodeGroups:
    - name: CA1_R
      location: Right hippocampal subfield CA1
      device: ProbeNameTBD
      nTrodes: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11,60,61,62,63,64]
    - name: CA1_L
      location: Left hippocampal subfield CA1
      device: ProbeNameTBD
      nTrodes: [12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]
    - name: SUB_L
      location: Left Subiculum
      device: ProbeNameTBD
      nTrodes: [28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43]
    - name: SUB_R
      location: Right Subiculum
      device: ProbeNameTBD
      nTrodes: [44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59]
  ElectricalSeries_description: Raw acquisition of extracellular electrophysiology data recorded by SpikeGadgets.
  LFP:
    ElectricalSeries:
      - name: ElectricalSeriesLFP
        description: Local field potential data recorded by SpikeGadgets (1 channel per tetrode).

Behavior:
  Module:
    name: behavior
    description: Behavioral data recorded during a cooperative maze task, in which a pair of rats must cooperate by picking the same well in order to get a joint reward.
  Video:
    description: Video of the rat in the box.
    CameraDevice:
    - name: camera_device 0 # This MUST be formatted exactly "camera_device {camera_id}" to be compatible with spyglass
      meters_per_pixel: 0.002
      manufacturer: Allied Vision
      model: Mako G-158C
      lens: Theia SL183M
      camera_name: SleepBox
    - name: camera_device 1 # This MUST be formatted exactly "camera_device {camera_id}" to be compatible with spyglass
      meters_per_pixel: 0.0026
      manufacturer: Allied Vision
      model: Mako G-158C
      lens: Theia SL183M
      camera_name: Room
  Events:
  - name: reward_well_1
    ids:
    - Poke in well1
    description: Whenever the animal in the left W maze visits Reward Well 1.
  - name: reward_well_2
    ids:
    - Poke in well2
    description: Whenever the animal in the left W maze visits Reward Well 2.
  - name: reward_well_3
    ids:
    - Poke in well3
    description: Whenever the animal in the left W maze visits Reward Well 3.
  - name: reward_well_A
    ids:
    - Poke in wellA
    description: Whenever the animal in the right W maze visits Reward Well A.
  - name: reward_well_B
    ids:
    - Poke in wellB
    description: Whenever the animal visits Reward Well B in the right W maze.
  - name: reward_well_C
    ids:
    - Poke in wellC
    description: Whenever the animal visits Reward Well C in the right W maze.
  - name: matched_poke_A1
    ids:
    - Matched poke in position A1
    - Matched Pokes in position A1
    description: Whenever the animal in the left W maze matches the position of the partner in the right W maze (Reward Well 1 and Reward Well A).
  - name: matched_poke_B2
    ids:
    - Matched Pokes in position B2
    - Matched pokes in position B2
    description: Whenever the animal in the left W maze matches the position of the partner in the right W maze (Reward Well 2 and Reward Well B).
  - name: matched_poke_C3
    ids:
    - Matched Pokes in position C3
    description: Whenever the animal in the left W maze matches the position of the partner in the right W maze (Reward Well 3 and Reward Well C).

Epochs:
  - name: 1-XFN1-XFN3
    task_name: SocialW_Left
    led_configuration: front/back
    led_list:
      - head
      - neck
    led_positions:
      - front
      - back
  - name: 3-XFN3-XFN1
    task_name: SocialW_Right
    led_configuration: front/back
    led_list:
      - head
      - neck
    led_positions:
      - front
      - back
  - name: 5-XFN1-XFN3
    task_name: SocialW_Left
    led_configuration: front/back
    led_list:
      - head
      - neck
    led_positions:
      - front
      - back
  - name: 7-XFN3-XFN1
    task_name: SocialW_Right
    led_configuration: front/back
    led_list:
      - head
      - neck
    led_positions:
      - front
      - back
  - name: 9-XFN1-XFN3
    task_name: SocialW_Left
    led_configuration: front/back
    led_list:
      - head
      - neck
    led_positions:
      - front
      - back

Tasks:
  - name: SocialW_Left
    description: The animal makes coordinated well/arm transitions with a partner to collect joint rewards.
    environment: left_Wmaze
    camera_id:
      - 0
    task_epochs:
      - 1
      - 5
      - 9
  - name: SocialW_Right
    description: The animal makes coordinated well/arm transitions with a partner to collect joint rewards.
    environment: right_Wmaze
    camera_id:
      - 0
    task_epochs:
      - 3
      - 7

# PoseEstimation:
#   PoseEstimationContainers:
#     PoseEstimationContainerName:
#       name: PoseEstimationContainerName
#       description: 2D keypoint coordinates estimated using DeepLabCut.
#       source_software: DeepLabCut
#       dimensions: [0, 0]
#       skeleton: SubjectIDSkeleton
#       devices: [CameraPoseEstimationContainerName]
#       scorer: DLC_resnet50_openfieldAug20shuffle1_30000
#       original_videos: null
#       PoseEstimationSeries:
#         snout:
#           name: ind1_snout
#           description: Keypoint snout from individual ind1.
#           unit: pixels
#           reference_frame: "(0,0) corresponds to the bottom left corner of the video."
#           confidence_definition: Softmax output of the deep neural network.
#         leftear:
#           name: ind1_leftear
#           description: Keypoint leftear from individual ind1.
#           unit: pixels
#           reference_frame: "(0,0) corresponds to the bottom left corner of the video."
#           confidence_definition: Softmax output of the deep neural network.
#         rightear:
#           name: ind1_rightear
#           description: Keypoint rightear from individual ind1.
#           unit: pixels
#           reference_frame: "(0,0) corresponds to the bottom left corner of the video."
#           confidence_definition: Softmax output of the deep neural network.
#         tailbase:
#           name: ind1_tailbase
#           description: Keypoint tailbase from individual ind1.
#           unit: pixels
#           reference_frame: "(0,0) corresponds to the bottom left corner of the video."
#           confidence_definition: Softmax output of the deep neural network.
#   Skeletons:
#     SubjectIDSkeleton:
#       name: SkeletonPoseEstimationContainerName_Ind1
#       nodes: [snout, leftear, rightear, tailbase]
#       edges: []
#       subject: the_subject_id
